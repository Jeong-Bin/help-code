변수중요도의 개념
- 모델에 활용한 input변수 중에서 어떤 것이 target값에 가장 큰 영향을 미쳤나?
- 해당 중요도를 수치화시킨 것이 변수중요도
- tree형 모델(의사결정나무, 랜덤포레스트)에서 계산 가능

의사결정나무에서의 변수중요도
- 해당 input변수가 의사결정나무의 구축에 얼마나 많이 쓰이나?
- 해당 변수를 기준으로 분기를 했을 때 각 구간의 복잡도가 얼마나 줄어드는가?

랜덤포레스트와 XGboost에서의 변수중요도
1. 각각의 의사결정나무에 대해서 변수중요도를 계산
2. 평균을 낸다.

※ 실습은 [22_앙상블]과 [23_앙상블] 참고



위의 변수중요도 계산은 feature_importances 라는 고전적인 방법을 사용한 것이며,
최근에는 Shap Value 라는 방법이 더 각광받고 있다. 

Shap Value 예시
(손흥민이 있는 토트넘의 승률) - (손흥민이 없는 토트넘의 승률) = 16%
(케인이 있는 토트넘의 승률) - (케인이 없는 토트넘의 승률) = 13%
(알리이 있는 토트넘의 승률) - (알리이 없는 토트넘의 승률) = -3%

- 각 변수가 예측 결과물에 주는 영향력의 크기를 뜻함
- 해당 변수가 어떤 영향을 주는가?

Shap Value - dependence plot : 해당 변수가 target 값에 어떤 영향을 미치는가?
                             : 각 변수가 타겟값에 언제 얼마나 영향을 주는지 섬세하게 표현함
Shap Value - force plot : 어떤 변수가 예측에 얼만큼의 영향력을 미치는가?
                        : 각 개별 데이터의 예측치에서 어떤 변수가 +/-의 영향을 주는지 표현함